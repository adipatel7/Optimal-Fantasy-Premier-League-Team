# Optimal-Fantasy-Premier-League-Team

## Note
Full program can be found in the python notebook.

## Introduction
  
Fantasy Premier League (FPL) is a game where participants have to form a team of actual players playing in the English Premier League (Soccer League). It is a widely popular game which has a player base of around 7-8 million players every year. In this report, we create a model which selects the optimal squad of players each week. The main motivation for this project is to remove the cognitive biases that come into effect when playing such games. For instance, humans are more likely to pick the players that they like even if they are not the best option. Being good at fantasy football may seem to be all about accurately predicting player performances, however even with perfect forecasts the problem of selecting the optimal team is not easy â€” mostly you decide on a bunch of players, shuffle them in and out of the team until you get the budget right. Introducing strategies involving transfers over several weeks adds another layer of complexity.

The idea of the game is that you start off with a budget of 100 million pounds. You are given the task to pick a squad of 15 real-life players who score points for your team based on their performances in their own matches. There are 4 categories of players: Goalkeepers, Defenders, Midfielders, and Forwards. Your squad needs to have 2 goalkeepers, 5 defenders, 5 midfielders, and 3 forwards. Every week you have to choose 11 players that will play for you. The remaining four players are substitutes, which do not score any points for that given week (unless one of your starters does not play in real life). There is a limit of 3 players per Premier League Team. Each week, you get to pick one player from your team to be your captain. This player scores twice the points on that week. There are 38 gameweeks(matchdays) in a season and each week, one can transfer(change) one of their players for free. Any additional transfers cost 4 points each that are deducted from that week's score.

This project will model a simplified version of the game. First, instead of selecting a squad of 15 players using 100 million pounds, the model will select a team of 11 players using 84 million pounds. This will eliminate the need for substitutes, which are difficult to model. Since we do not plan on using substitutes, we assume that the 4 cheapest players were bought as substitutes. This means that the new budget is: 100 - (4 * 4) = 84 million pounds. Second, instead of having 1 free transfer every week, we will assume that all transfers cost 4 points. In the actual game, there is a system of carry over transfers. If you do not use your free transfer, you are able to make an additional free transfer the following Gameweek. If you do not use this saved free transfer in the following Gameweek, it will be carried over until you do. You can never have more than 1 saved transfer. We will ignore these rules and assume that all transfers cost 4 points. Third, instead of modeling the entire 38 weeks, this report will look at the first 10 weeks of the season. This is mainly due to issues with merging and cleaning data. Additionally, in the actual game, the prices of players change depending on their demand just like the stock market. One can increase their spending budget by selling players for a profit. For this model, we will assume that the budget remains constant even though the player costs will change every week.

The measure that will be used to select a team of players is called "expected points" (projected points). This measure is calculated using underlying numbers (such as number of shots, passes, performances, etc) of previous weeks. This data is readily available online. There are several websites available, each of which uses different algorithms to calculate the expected points.

We will use the data found here: https://github.com/vaastav/Fantasy-Premier-League/tree/master/data/2020-21/gws

This data also contains the actual points scored by each player on a given week. Therefore, we will create a team using expected points and then calculate the actual points scored by that team.

We will first create a model which maximizes the expected points for a given week. We will then create a multi-week model which implements the transfer system.
